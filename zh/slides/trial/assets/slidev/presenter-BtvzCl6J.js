import{_ as Z,a as K,b as X,c as Y,d as ee}from"../modules/unplugin-icons-B1zEtaLA.js";import{t as j,a0 as te,d as M,c as x,i as f,A as s,o as c,y as h,b as y,e as t,l as a,x as N,F as G,Z as se,a1 as oe,a2 as ne,h as $,p as H,a as J,D as R,M as le,a3 as re,J as ae,a4 as ie,a5 as ce,k as S,g as I,a6 as ue}from"../modules/vue-DA7ZT_zT.js";import{b as V,e as de,c as O,h as pe,j as me,d as ve,k as _e}from"../index-C27uI-IZ.js";import{r as fe,u as xe,S as A,I as L,Q as he,a as be,N as ke,G as ye}from"./SlidesShow-BGYDKT_U.js";import{s as ge,b as D,p as we,S as Ce,g as Se,c as Ne,i as $e,d as Te}from"./bottom-D1BJl0S8.js";import{N as ze}from"./NoteDisplay-DhiCDrHa.js";import Fe from"./DrawingControls-YgwyTHdw.js";import{u as Ie}from"./DrawingPreview-LLanKZMD.js";import"../modules/shiki-CUMx7AeU.js";import"./title-renderer-CFdy8uAx.js";function De(n){if(n==null)return{info:j(),update:async()=>{}};const r=`/@slidev/slide/${n}.json`,{data:e,execute:o}=te(r).json().get();return o(),{info:e,update:async p=>await fetch(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(p)}).then(i=>i.json())}}const je=M({__name:"NoteStatic",props:{no:{type:Number,required:!0},class:{type:String,required:!1},clicksContext:{type:null,required:!1}},setup(n){const r=n,{info:e}=De(r.no);return(o,d)=>{var p,i;return c(),x(ze,{class:f(r.class),note:(p=s(e))==null?void 0:p.note,"note-html":(i=s(e))==null?void 0:i.noteHTML,"clicks-context":o.clicksContext},null,8,["class","note","note-html","clicks-context"])}}}),Me=V(je,[["__file","/home/runner/work/cTodo-docs/cTodo-docs/node_modules/.pnpm/@slidev+client@0.48.0-beta.26_@vue+compiler-sfc@3.4.21_postcss@8.4.38_vite@5.2.2/node_modules/@slidev/client/internals/NoteStatic.vue"]]),Ve=n=>(H("data-v-47a42925"),n=n(),J(),n),qe=["title"],Be={class:"flex gap-1 items-center min-w-16"},Pe={"text-primary":""},Re=Ve(()=>t("span",{op50:""},"/",-1)),Oe={op50:""},Ae=["max"],Le=M({__name:"ClicksSlider",props:{clicksContext:{type:null,required:!0}},setup(n){const r=n,e=h(()=>r.clicksContext.total),o=h({get(){return r.clicksContext.current>e.value?-1:r.clicksContext.current},set(i){r.clicksContext.current=i}}),d=h(()=>Array.from({length:e.value+1},(i,u)=>u));function p(){(o.value<0||o.value>e.value)&&(o.value=0)}return(i,u)=>{const T=Z;return c(),y("div",{class:f(["flex gap-0.5 items-center select-none",e.value?"":"op50"]),title:`Clicks in this slide: ${e.value}`},[t("div",Be,[a(T,{"text-sm":"",op50:""}),t("span",Pe,N(o.value),1),Re,t("span",Oe,N(e.value),1)]),t("div",{relative:"","flex-auto":"",h5:"",flex:"~",onDblclick:u[2]||(u[2]=l=>o.value=i.clicksContext.total)},[(c(!0),y(G,null,se(d.value,l=>(c(),y("div",{key:l,border:"y main","of-hidden":"",relative:"",class:f([l===0?"rounded-l border-l":"",l===e.value?"rounded-r border-r":""]),style:$({width:e.value>0?`${1/e.value*100}%`:"100%"})},[t("div",{absolute:"","inset-0":"",class:f(l<=o.value?"bg-primary op20":"")},null,2),t("div",{class:f([+l==+o.value?"text-primary font-bold op100 border-primary":"op30 border-main",l===0?"rounded-l":"",l===e.value?"rounded-r":"border-r-2"]),"w-full":"","h-full":"","text-xs":"",flex:"","items-center":"","justify-center":"","z-1":""},N(l),3)],6))),128)),oe(t("input",{"onUpdate:modelValue":u[0]||(u[0]=l=>o.value=l),class:"range",absolute:"","inset-0":"",type:"range",min:0,max:e.value,step:1,"z-10":"",op0:"",style:$({"--thumb-width":`${1/(e.value+1)*100}%`}),onMousedown:p,onFocus:u[1]||(u[1]=l=>{var g;return(g=l.currentTarget)==null?void 0:g.blur()})},null,44,Ae),[[ne,o.value]])],32)],10,qe)}}}),Ge=V(Le,[["__scopeId","data-v-47a42925"],["__file","/home/runner/work/cTodo-docs/cTodo-docs/node_modules/.pnpm/@slidev+client@0.48.0-beta.26_@vue+compiler-sfc@3.4.21_postcss@8.4.38_vite@5.2.2/node_modules/@slidev/client/internals/ClicksSlider.vue"]]),q=n=>(H("data-v-850e8e6c"),n=n(),J(),n),He={class:"bg-main h-full slidev-presenter"},Je=q(()=>t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1)),Qe={class:"relative grid-section next flex flex-col p-2 lg:p-4"},Ue=q(()=>t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1)),We={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},Ee={class:"border-t border-main py-1 px-2 text-sm"},Ze={class:"grid-section bottom flex"},Ke=q(()=>t("div",{"flex-auto":""},null,-1)),Xe={class:"text-2xl pl-2 pr-6 my-auto tabular-nums"},Ye={class:"progress-bar"},et=M({__name:"presenter",setup(n){const r=j();fe(),xe(r);const{clicksContext:e,currentSlideNo:o,currentSlideRoute:d,hasNext:p,nextRoute:i,slides:u,queryClicks:T,getPrimaryClicks:l,total:g}=de(),{isDrawing:Q}=Ie(),U=O.titleTemplate.replace("%s",O.title||"Slidev");pe({title:`Presenter - ${U}`}),j(!1);const{timer:W,resetTimer:B}=me(),E=h(()=>u.value.map(C=>ve(C))),m=h(()=>e.value.current<e.value.total?[d.value,e.value.current+1]:p.value?[i.value,0]:null),w=h(()=>m.value&&E.value[m.value[0].no-1]);return R([d,T],()=>{w.value&&(w.value.current=m.value[1])},{immediate:!0}),le(),re(()=>{const C=r.value.querySelector("#slide-content"),_=ae(ie()),z=ce();R(()=>{if(!z.value||Q.value||!ge.value)return;const v=C.getBoundingClientRect(),b=(_.x-v.left)/v.width*100,k=(_.y-v.top)/v.height*100;if(!(b<0||b>100||k<0||k>100))return{x:b,y:k}},v=>{_e.cursor=v})}),(C,_)=>{var P;const z=K,v=X,b=Y,k=ee;return c(),y(G,null,[t("div",He,[t("div",{class:f(["grid-container",`layout${s(we)}`])},[t("div",{ref_key:"main",ref:r,class:"relative grid-section main flex flex-col"},[a(A,{key:"main",class:"h-full w-full p-2 lg:p-4 flex-auto"},{default:S(()=>[a(be,{"render-context":"presenter"})]),_:1}),(c(),x(Ge,{key:(P=s(d))==null?void 0:P.no,"clicks-context":s(l)(s(d)),class:"w-full pb2 px4 flex-none"},null,8,["clicks-context"])),Je],512),t("div",Qe,[m.value&&w.value?(c(),x(A,{key:"next",class:"h-full w-full"},{default:S(()=>[(c(),x(Ce,{is:m.value[0].component,key:m.value[0].no,"clicks-context":w.value,class:f(s(Se)(m.value[0])),route:m.value[0],"render-context":"previewNext"},null,8,["is","clicks-context","class","route"]))]),_:1})):I("v-if",!0),Ue]),I(" Notes "),(c(),y("div",We,[(c(),x(Me,{key:`static-${s(o)}`,no:s(o),class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:$({fontSize:`${s(Ne)}em`}),"clicks-context":s(e)},null,8,["no","style","clicks-context"])),t("div",Ee,[a(L,{title:"Increase font size",onClick:s($e)},{default:S(()=>[a(z)]),_:1},8,["onClick"]),a(L,{title:"Decrease font size",onClick:s(Te)},{default:S(()=>[a(v)]),_:1},8,["onClick"]),I("v-if",!0)])])),t("div",Ze,[a(ke,{persist:!0}),Ke,t("div",{class:"timer-btn my-auto relative w-22px h-22px cursor-pointer text-lg",opacity:"50 hover:100",onClick:_[2]||(_[2]=(...F)=>s(B)&&s(B)(...F))},[a(b,{class:"absolute"}),a(k,{class:"absolute opacity-0"})]),t("div",Xe,N(s(W)),1)]),(c(),x(Fe,{key:2}))],2),t("div",Ye,[t("div",{class:"progress h-3px bg-primary transition-all",style:$({width:`${(s(o)-1)/(s(g)-1)*100}%`})},null,4)])]),a(ye),a(he,{modelValue:s(D),"onUpdate:modelValue":_[3]||(_[3]=F=>ue(D)?D.value=F:null)},null,8,["modelValue"])],64)}}}),dt=V(et,[["__scopeId","data-v-850e8e6c"],["__file","/home/runner/work/cTodo-docs/cTodo-docs/node_modules/.pnpm/@slidev+client@0.48.0-beta.26_@vue+compiler-sfc@3.4.21_postcss@8.4.38_vite@5.2.2/node_modules/@slidev/client/pages/presenter.vue"]]);export{dt as default};
